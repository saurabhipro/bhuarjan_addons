<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record id="view_tende_ai_dashboard_form" model="ir.ui.view">
        <field name="name">tende_ai.dashboard.form</field>
        <field name="model">tende_ai.dashboard</field>
        <field name="arch" type="xml">
            <form string="Tender AI Dashboard" create="0" delete="0">
                <sheet>
                    <div class="oe_dashboard" style="padding: 20px;">
                        <div class="dashboard-section-title">
                            <i class="fa fa-briefcase" title="Job Statistics"/> JOB STATISTICS
                        </div>
                        <div class="dashboard-grid">
                            <button name="action_open_jobs" type="object" class="dashboard-kpi-card kpi-card-purple">
                                <div class="kpi-header">
                                    <div class="kpi-label">Total Jobs</div>
                                    <div class="kpi-icon"><i class="fa fa-briefcase" title="Total Jobs"/></div>
                                </div>
                                <div class="kpi-value"><field name="total_jobs" nolabel="1" readonly="1"/></div>
                            </button>
                            <button name="action_open_completed_jobs" type="object" class="dashboard-kpi-card kpi-card-green">
                                <div class="kpi-header">
                                    <div class="kpi-label">Completed</div>
                                    <div class="kpi-icon"><i class="fa fa-check-circle" title="Completed Jobs"/></div>
                                </div>
                                <div class="kpi-value"><field name="completed_jobs" nolabel="1" readonly="1"/></div>
                            </button>
                            <div class="dashboard-kpi-card kpi-card-pink" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Success Rate</div>
                                    <div class="kpi-icon"><i class="fa fa-percent" title="Success Rate"/></div>
                                </div>
                                <div class="kpi-value"><field name="success_rate" nolabel="1" readonly="1"/>%</div>
                            </div>
                            <div class="dashboard-kpi-card kpi-card-blue" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Processing</div>
                                    <div class="kpi-icon"><i class="fa fa-spinner" title="Processing Jobs"/></div>
                                </div>
                                <div class="kpi-value"><field name="processing_jobs" nolabel="1" readonly="1"/></div>
                            </div>
                            <div class="dashboard-kpi-card kpi-card-orange" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Failed</div>
                                    <div class="kpi-icon"><i class="fa fa-times-circle" title="Failed Jobs"/></div>
                                </div>
                                <div class="kpi-value"><field name="failed_jobs" nolabel="1" readonly="1"/></div>
                            </div>
                        </div>

                        <div class="dashboard-section-title">
                            <i class="fa fa-building" title="Company &amp; Bidder Statistics"/> COMPANY &amp; BIDDER STATISTICS
                        </div>
                        <div class="dashboard-grid">
                            <button name="action_open_bidders" type="object" class="dashboard-kpi-card kpi-card-yellow">
                                <div class="kpi-header">
                                    <div class="kpi-label">Total Companies</div>
                                    <div class="kpi-icon"><i class="fa fa-building" title="Total Companies"/></div>
                                </div>
                                <div class="kpi-value"><field name="total_companies" nolabel="1" readonly="1"/></div>
                            </button>
                            <button name="action_open_bidders" type="object" class="dashboard-kpi-card kpi-card-blue">
                                <div class="kpi-header">
                                    <div class="kpi-label">Total Bidders</div>
                                    <div class="kpi-icon"><i class="fa fa-users" title="Total Bidders"/></div>
                                </div>
                                <div class="kpi-value"><field name="total_bidders" nolabel="1" readonly="1"/></div>
                            </button>
                            <button name="action_open_payments" type="object" class="dashboard-kpi-card kpi-card-green">
                                <div class="kpi-header">
                                    <div class="kpi-label">Total Payments</div>
                                    <div class="kpi-icon"><i class="fa fa-credit-card" title="Total Payments"/></div>
                                </div>
                                <div class="kpi-value"><field name="total_payments" nolabel="1" readonly="1"/></div>
                            </button>
                            <div class="dashboard-kpi-card kpi-card-orange" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Work Experience</div>
                                    <div class="kpi-icon"><i class="fa fa-briefcase" title="Work Experience"/></div>
                                </div>
                                <div class="kpi-value"><field name="total_work_experience" nolabel="1" readonly="1"/></div>
                            </div>
                        </div>

                        <div class="dashboard-section-title">
                            <i class="fa fa-cogs" title="Processing Statistics"/> PROCESSING STATISTICS
                        </div>
                        <div class="dashboard-grid">
                            <div class="dashboard-kpi-card kpi-card-purple" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">PDFs Processed</div>
                                    <div class="kpi-icon"><i class="fa fa-file-pdf" title="PDFs Processed"/></div>
                                </div>
                                <div class="kpi-value"><field name="total_pdfs_processed" nolabel="1" readonly="1"/></div>
                            </div>
                            <div class="dashboard-kpi-card kpi-card-green" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">AI API Calls</div>
                                    <div class="kpi-icon"><i class="fa fa-cloud" title="AI API Calls"/></div>
                                </div>
                                <div class="kpi-value"><field name="total_gemini_calls" nolabel="1" readonly="1"/></div>
                            </div>
                            <div class="dashboard-kpi-card kpi-card-pink" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Total Tokens</div>
                                    <div class="kpi-icon"><i class="fa fa-coins" title="Total Tokens Used"/></div>
                                </div>
                                <div class="kpi-value"><field name="total_tokens_used" nolabel="1" readonly="1"/></div>
                            </div>
                            <div class="dashboard-kpi-card kpi-card-blue" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Avg Time (min)</div>
                                    <div class="kpi-icon"><i class="fa fa-clock-o" title="Avg Processing Time"/></div>
                                </div>
                                <div class="kpi-value"><field name="avg_processing_time" nolabel="1" readonly="1"/></div>
                            </div>
                        </div>

                        <div class="dashboard-section-title">
                            <i class="fa fa-rupee" title="Financial Statistics"/> FINANCIAL STATISTICS
                        </div>
                        <div class="dashboard-grid">
                            <div class="dashboard-kpi-card kpi-card-yellow" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Total Amount</div>
                                    <div class="kpi-icon"><i class="fa fa-rupee" title="Total Payment Amount"/></div>
                                </div>
                                <div class="kpi-value">₹<field name="total_payment_amount" nolabel="1" readonly="1"/></div>
                            </div>
                            <div class="dashboard-kpi-card kpi-card-orange" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Avg Amount</div>
                                    <div class="kpi-icon"><i class="fa fa-rupee" title="Avg Payment Amount"/></div>
                                </div>
                                <div class="kpi-value">₹<field name="avg_payment_amount" nolabel="1" readonly="1"/></div>
                            </div>
                        </div>

                        <div class="dashboard-section-title">
                            <i class="fa fa-calendar" title="Activity Timeline"/> ACTIVITY TIMELINE
                        </div>
                        <div class="dashboard-grid">
                            <div class="dashboard-kpi-card kpi-card-blue" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Today</div>
                                    <div class="kpi-icon"><i class="fa fa-calendar" title="Jobs Today"/></div>
                                </div>
                                <div class="kpi-value"><field name="jobs_today" nolabel="1" readonly="1"/></div>
                            </div>
                            <div class="dashboard-kpi-card kpi-card-green" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">This Week</div>
                                    <div class="kpi-icon"><i class="fa fa-calendar-week" title="Jobs This Week"/></div>
                                </div>
                                <div class="kpi-value"><field name="jobs_this_week" nolabel="1" readonly="1"/></div>
                            </div>
                            <div class="dashboard-kpi-card kpi-card-purple" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">This Month</div>
                                    <div class="kpi-icon"><i class="fa fa-calendar-alt" title="Jobs This Month"/></div>
                                </div>
                                <div class="kpi-value"><field name="jobs_this_month" nolabel="1" readonly="1"/></div>
                            </div>
                            <div class="dashboard-kpi-card kpi-card-pink" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Last Processed</div>
                                    <div class="kpi-icon"><i class="fa fa-clock-o" title="Last Processed"/></div>
                                </div>
                                <div class="kpi-value" style="font-size: 12px;"><field name="last_processed_date" nolabel="1" readonly="1" widget="datetime"/></div>
                            </div>
                        </div>

                        <div class="dashboard-section-title">
                            <i class="fa fa-tachometer" title="Performance Metrics"/> PERFORMANCE METRICS
                        </div>
                        <div class="dashboard-grid">
                            <div class="dashboard-kpi-card kpi-card-green" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Fastest (min)</div>
                                    <div class="kpi-icon"><i class="fa fa-bolt" title="Fastest Processing"/></div>
                                </div>
                                <div class="kpi-value"><field name="fastest_processing_time" nolabel="1" readonly="1"/></div>
                            </div>
                            <div class="dashboard-kpi-card kpi-card-blue" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Average (min)</div>
                                    <div class="kpi-icon"><i class="fa fa-bar-chart" title="Average Processing"/></div>
                                </div>
                                <div class="kpi-value"><field name="avg_processing_time" nolabel="1" readonly="1"/></div>
                            </div>
                            <div class="dashboard-kpi-card kpi-card-orange" style="cursor: default;">
                                <div class="kpi-header">
                                    <div class="kpi-label">Slowest (min)</div>
                                    <div class="kpi-icon"><i class="fa fa-hourglass" title="Slowest Processing"/></div>
                                </div>
                                <div class="kpi-value"><field name="slowest_processing_time" nolabel="1" readonly="1"/></div>
                            </div>
                        </div>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <record id="action_tende_ai_dashboard" model="ir.actions.act_window">
        <field name="name">Tender AI Dashboard</field>
        <field name="res_model">tende_ai.dashboard</field>
        <field name="view_mode">form</field>
        <field name="target">current</field>
        <field name="view_id" ref="view_tende_ai_dashboard_form"/>
        <field name="context">{'create': True}</field>
    </record>

</odoo>
