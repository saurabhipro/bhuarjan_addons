<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- Section 21 Notification Report -->
    <record id="action_report_section21_notification" model="ir.actions.report">
        <field name="name">Section 21 Notification / धारा 21 अधिसूचना</field>
        <field name="model">bhu.section21.notification</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">bhuarjan.section21_notification_report</field>
        <field name="report_file">bhuarjan.section21_notification_report</field>
        <field name="paperformat_id" ref="bhuarjan.bhuarjan_sia_paper_format"/>
        <field name="print_report_name">'Section21_Notification_' + ((object and object.name) or (docs and docs[0] and docs[0].name) or 'All')</field>
    </record>

    <!-- Section 21 Notification Report Template -->
    <template id="section21_notification_report">
        <t t-call="web.html_container">
            <meta charset="utf-8"/>
            <t t-set="notification" t-value="object or (docs and docs[0]) or None"/>
            <t t-if="notification">
                <t t-call="web.basic_layout">
                <style>
                    /* Override basic_layout styles aggressively */
                    body, html, .container, .page {
                        font-size: 18px !important;
                        font-family: 'Noto Sans Devanagari', 'Mangal', 'Arial Unicode MS', 'DejaVu Sans', sans-serif !important;
                    }
                    .letter_space{
                        letter-spacing: 1px !important;
                    }
                    /* Header Text - Bold and Big */
                    .header-text {
                        font-size: 30px !important;
                        font-weight: bold !important;
                    }
                    .header-text h3 {
                        font-size: 26px !important;
                        font-weight: bold !important;
                    }
                    /* Normal Text */
                    .normal-text {
                        font-size: 18px !important;
                    }
                    .normal-text p, .normal-text span, .normal-text strong {
                        font-size: 18px !important;
                    }
                    /* Global Font Settings - More aggressive */
                    body, .header-section, h2, h3, strong, span, td, th, p, div, .container, .page {
                        font-family: 'Noto Sans Devanagari', 'Mangal', 'Arial Unicode MS', 'DejaVu Sans', sans-serif !important;
                    }
                    /* Watermark with Logo - Centered on Page */
                    .watermark {
                        position: absolute;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        opacity: 0.1;
                        z-index: 0;
                        pointer-events: none;
                        width: 600px;
                        height: 600px;
                        margin: 0;
                        padding: 0;
                        display: flex;
                        flex-direction: column;
                        align-items: center;
                        justify-content: center;
                    }
                    .watermark img {
                        width: 500px;
                        height: 500px;
                        object-fit: contain;
                    }
                    .watermark-circle {
                        position: absolute;
                        width: 550px;
                        height: 550px;
                        border: 2px solid rgba(0, 0, 0, 0.1);
                        border-radius: 50%;
                        top: 50%;
                        left: 50%;
                        transform: translate(-50%, -50%);
                        z-index: -1;
                    }
                    /* Ensure content is above watermark */
                    .container {
                        position: relative;
                        z-index: 1;
                        background: transparent;
                        box-sizing: border-box;
                    }
                    /* Schedule Table */
                    .schedule-table {
                        width: 100%;
                        border-collapse: collapse;
                        margin: 15px 0;
                        font-size: 18px !important;
                    }
                    .schedule-table th, .schedule-table td {
                        border: 1px solid #000;
                        padding: 8px;
                        text-align: center;
                        font-size: 18px !important;
                    }
                    .schedule-table th {
                        background-color: #f0f0f0;
                        font-weight: bold;
                    }
                    @page {
                        size: A4;
                        margin: 0;
                    }
                </style>

                <div class="container letter_space" style="border: 2px dotted #000; padding: 15px; margin: 10px; position: relative; min-height: calc(100vh - 20px); height: 100%;">
                    <!-- Watermark with Logo - Centered on Page -->
                    <div class="watermark">
                        <div class="watermark-circle"></div>
                        <t t-set="base_url" t-value="request.env['ir.config_parameter'].sudo().get_param('web.base.url')"/>
                        <img t-att-src="base_url + '/bhuarjan/static/description/logo.png'" alt="Logo Watermark"/>
                    </div>

                    <!-- Header: Collector's Court -->
                    <div style="text-align: center; margin-bottom: 15px;">
                        <h2 style="margin: 0; padding: 0; font-size: 24px; font-weight: bold; font-family: 'Noto Sans Devanagari', 'Mangal', 'Arial Unicode MS', 'DejaVu Sans', sans-serif !important;">
                            <strong>न्यायालय कलेक्टर, जिला-<span t-if="notification and notification.district_id" t-esc="notification.district_id.name"/><span t-if="not notification or not notification.district_id">रायगढ़</span> (छ.ग.)</strong>
                        </h2>
                    </div>

                    <!-- Public Notice Header -->
                    <div style="text-align: center; margin-bottom: 15px; font-size: 18px !important;">
                        <strong>// लोक सूचनाः जारी दिनाँक //</strong>
                    </div>

                    <!-- Notice Date -->
                    <div style="text-align: right; margin-bottom: 15px; font-size: 18px !important;">
                        <strong>रायगढ़ दिनाँक</strong>
                        <span t-if="notification and notification.notice_date" t-esc="notification.notice_date.strftime('%d/%m/%Y')"/>
                        <span t-if="not notification or not notification.notice_date"> / /2025</span>
                    </div>

                    <!-- Main Body Text -->
                    <div style="font-size: 18px !important; line-height: 1.6 !important; text-align: justify; margin-bottom: 15px;">
                        <p style="margin: 0; padding: 0; font-size: 18px !important; line-height: 1.6 !important;">
                            भूमि अर्जन, पुनर्वासन एवं पुनर्व्यवस्थापन में उचित प्रतिकर और पारदर्शिता का अधिकार अधिनियम, 2013 (जिसे एतद् पश्चात् अधिनियम, 2013 कहा जायेगा) की धारा 21(1) के तहत यह सूचित किया जाता है कि नीचे वर्णित भूमि का उक्त प्रयोजन के लिये आवश्यकता है। अतः हितबद्ध व्यक्तियों से अनुरोध है कि वे अपने दावे मुआवजा, पुनर्वासन तथा पुनर्व्यवस्थापन के संबंध में तथा आपत्ति यदि कोई हो तो कार्यालय कलेक्टर, जिला रायगढ़ के भू-अर्जन शाखा में दिनाँक
                            <span t-if="notification and notification.last_date_for_claims" t-esc="notification.last_date_for_claims.strftime('%d/%m/%Y')"/>
                            <span t-if="not notification or not notification.last_date_for_claims" style="text-decoration: underline;">........................</span>
                            तक प्रस्तुत करें।
                        </p>
                    </div>

                    <!-- Land Details Section -->
                    <div style="margin: 20px 0;">
                        <div style="text-align: left; font-size: 18px; font-weight: bold; margin-bottom: 10px;">
                            <strong>1) भूमि का विवरण :-</strong>
                        </div>
                        <div style="margin-bottom: 15px; font-size: 18px !important;">
                            <div style="margin-bottom: 5px;">
                                <strong>(क) जिला :-</strong>
                                <span t-if="notification and notification.district_id" t-esc="notification.district_id.name"/>
                                <span t-if="not notification or not notification.district_id">........................</span>
                            </div>
                            <div style="margin-bottom: 5px;">
                                <strong>(ख) तुहसील :-</strong>
                                <span t-if="notification and notification.tehsil_id" t-esc="notification.tehsil_id.name"/>
                                <span t-if="not notification or not notification.tehsil_id">........................</span>
                            </div>
                            <div style="margin-bottom: 5px;">
                                <strong>(ग) ग्राम :-</strong>
                                <span t-if="notification and notification.village_id" t-esc="notification.village_id.name"/>
                                <span t-if="not notification or not notification.village_id">........................</span>
                            </div>
                        </div>

                        <!-- Land Parcels Table -->
                        <table class="schedule-table">
                            <thead>
                                <tr>
                                    <th style="width: 33.33%;">खसरा क्रमाक</th>
                                    <th style="width: 33.33%;">अर्जित रकबा</th>
                                    <th style="width: 33.33%;">रिमार्क</th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-if="notification and notification.land_parcel_ids and len(notification.land_parcel_ids) > 0">
                                    <t t-foreach="notification.land_parcel_ids" t-as="parcel">
                                        <tr>
                                            <td style="font-size: 18px !important; text-align: center;">
                                                <t t-if="parcel.khasra_number" t-esc="parcel.khasra_number"/>
                                                <t t-if="not parcel.khasra_number">........................</t>
                                            </td>
                                            <td style="font-size: 18px !important; text-align: center;">
                                                <t t-if="parcel.area_hectares and parcel.area_hectares > 0" t-esc="'{:.4f}'.format(parcel.area_hectares)"/>
                                                <t t-if="not parcel.area_hectares or parcel.area_hectares == 0">........................</t>
                                            </td>
                                            <td style="font-size: 18px !important; text-align: center;">
                                                <t t-if="parcel.remark" t-esc="parcel.remark"/>
                                                <t t-if="not parcel.remark">-</t>
                                            </td>
                                        </tr>
                                    </t>
                                </t>
                                <t t-if="not notification or not notification.land_parcel_ids or len(notification.land_parcel_ids) == 0">
                                    <tr>
                                        <td style="text-align: center; padding: 10px; font-size: 18px !important;">........................</td>
                                        <td style="text-align: center; padding: 10px; font-size: 18px !important;">........................</td>
                                        <td style="text-align: center; padding: 10px; font-size: 18px !important;">-</td>
                                    </tr>
                                </t>
                            </tbody>
                        </table>
                    </div>

                    <!-- Collector Signature -->
                    <div style="text-align: right; margin-top: 30px; margin-right: 0;">
                        <div style="margin: 10px 0; font-size: 18px !important;">
                            <span t-if="notification and notification.collector_name" t-esc="notification.collector_name"/>
                            <span t-if="not notification or not notification.collector_name">कलेक्टर जिला-रायगढ़</span>
                        </div>
                    </div>

                    <!-- Copy Recipients Section -->
                    <div style="margin-top: 30px; font-size: 18px !important;">
                        <div style="font-weight: bold; margin-bottom: 10px;">
                            <strong>पु. क्रमांक / प्रतिलिपि :-</strong>
                        </div>
                        <div style="margin-bottom: 8px;">
                            <strong>1.</strong> अनुविभागीय अधिकारी (राजस्व) सुहू भू-अर्जन अधिकारी, जिला रायगढ़ की ओर सूचनार्थ एवं आवश्यक कार्यवाही हेतु।
                        </div>
                        <div style="margin-bottom: 8px;">
                            <strong>2.</strong> भूमिस्वामी
                            <span style="text-decoration: underline;">........................</span>
                        </div>
                    </div>

                    <!-- Additional Collector -->
                    <div style="text-align: right; margin-top: 20px; margin-right: 0;">
                        <div style="margin: 10px 0; font-size: 18px !important;">
                            <span t-if="notification and notification.additional_collector_name" t-esc="notification.additional_collector_name"/>
                            <span t-if="not notification or not notification.additional_collector_name">अपर कलेक्टर जिला-रायगढ़</span>
                        </div>
                    </div>
                </div>
                </t>
            </t>
        </t>
    </template>
</odoo>

