<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <!-- SIA Proposal Report Action -->
    <record id="action_report_sia_order" model="ir.actions.report">
        <field name="name">SIA Proposal / SIA प्रस्ताव</field>
        <field name="model">bhu.sia.team</field>
        <field name="report_type">qweb-pdf</field>
        <field name="report_name">bhuarjan.sia_order_report</field>
        <field name="report_file">bhuarjan.sia_order_report</field>
        <field name="paperformat_id" ref="bhuarjan.bhuarjan_sia_paper_format"/>
        <field name="print_report_name">'SIA_Proposal_' + ((object and object.name) or (docs and docs[0] and docs[0].name) or 'All')</field>
    </record>

    <!-- SIA Proposal Report Template -->
    <template id="sia_order_report">
        <t t-call="web.html_container">
            <meta charset="utf-8"/>
            <t t-foreach="docs" t-as="sia_team">
                <div class="page" style="font-family: 'Noto Sans Devanagari', 'Mangal', 'Arial Unicode MS', 'DejaVu Sans', sans-serif; padding: 20px; font-size: 14px;">
                    <!-- Header -->
                    <div style="text-align: center; margin-bottom: 20px;">
                        <h3 style="margin: 0; font-size: 16px; font-weight: bold; font-family:sans-serif">
                            कार्यालय अनुविभागीय अधिकारी (राजस्व) जिला-रायगढ़ (छ.ग.)
                        </h3>
                    </div>

                    <!-- Reference and Date -->
                    <div style="margin-bottom: 15px;">
                        <p style="margin: 5px 0; font-size: 14px; display: flex; justify-content: space-between;">
                            <span>
                            <strong>क्रमांक /</strong> ............................................................., 
                            </span>
                            <span style="text-align: right;">
                            <strong>दिनांक /</strong> <span t-if="sia_team.create_date" t-esc="sia_team.create_date.strftime('%d/%m/%Y')"/><span t-if="not sia_team.create_date">........................</span>
                            </span>
                        </p>
                    </div>

                    <!-- Recipient -->
                    <div style="margin-bottom: 15px;">
                        <p style="margin: 5px 0; font-size: 14px;">
                            <strong>कलेक्टर</strong><br/>
                            <strong>(भू-अर्जन शाखा)</strong><br/>
                            <strong>जिला-रायगढ़ (छ.ग.)</strong>
                        </p>
                    </div>

                    <!-- Subject -->
                    <div style="margin-bottom: 20px;">
                        <p style="margin: 5px 0; font-size: 14px; text-align: justify; line-height: 1.6;">
                            <strong>विषय:</strong> अंतर्गत परियोजना <span t-esc="sia_team.project_id.name or ''"/> हेतु <span t-esc="sia_team.requiring_body_id.name if sia_team.requiring_body_id else ''"/> द्वारा जिला रायगढ़ (छ.ग.) में सामाजिक समाघात निर्धारण हेतु दल के गठन का प्रस्ताव, अनुमोदन बाबत।
                        </p>
                        <p style="margin: 5px 0; font-size: 14px; text-align: justify; line-height: 1.6;">
                            उपरोक्त विषयांतर्गत प्रभावित ग्राम 
                            <t t-if="sia_team.village_ids">
                                <t t-foreach="sia_team.village_ids" t-as="village" t-first="first">
                                    <t t-if="not first">, </t><span t-esc="village.name or ''"/>
                                </t>
                            </t>
                            <t t-if="not sia_team.village_ids and sia_team.project_id and sia_team.project_id.village_ids">
                                <t t-foreach="sia_team.project_id.village_ids" t-as="village" t-first="first">
                                    <t t-if="not first">, </t><span t-esc="village.name or ''"/>
                                </t>
                            </t>
                            <t t-if="not sia_team.village_ids and (not sia_team.project_id or not sia_team.project_id.village_ids)">
                                ........................
                            </t>
                            , तहसील 
                            <t t-if="sia_team.tehsil_ids">
                                <t t-foreach="sia_team.tehsil_ids" t-as="tehsil" t-first="first">
                                    <t t-if="not first">, </t><span t-esc="tehsil.name or ''"/>
                                </t>
                            </t>
                            <t t-if="not sia_team.tehsil_ids">
                                ........................
                            </t>
                            , जिला रायगढ़ (छ.ग.) अंतर्गत परियोजना <span t-esc="sia_team.project_id.name or ''"/> के लिए निजी भूमि कुल रकबा 
                            <t t-if="sia_team.total_area_acquired and sia_team.total_area_acquired > 0">
                                <span t-esc="'{:,.4f}'.format(sia_team.total_area_acquired)"/>
                            </t>
                            <t t-if="not sia_team.total_area_acquired or sia_team.total_area_acquired == 0">
                                ........................
                            </t>
                            हेक्टेयर भूमि के अर्जन प्रस्ताव पूर्व, सामाजिक समाघात निर्धारण हेतु दल के गठन का प्रस्ताव कलेक्टर साहब की ओर अनुमोदन हेतु प्रस्तुत है-
                        
                        </p>
                    </div>

                    <!-- Team Members Table -->
                    <div style="margin-bottom: 20px;">
                        
                        <table style="width: 100%; border-collapse: collapse; border: 2px solid #000; font-size: 14px; margin-top: 10px;">
                            <thead>
                                <tr>
                                    <th style="border: 1px solid #000; padding: 8px; text-align: center; background-color: #f0f0f0; width: 40%;">
                                           समाजिक समाघात निर्धारण दल का विवरण
                                           
                                           
                                    </th>
                                    <th style="border: 1px solid #000; padding: 8px; text-align: center; background-color: #f0f0f0; width: 60%;">
                                        सदस्य का नाम / पता
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- (क) Non-Government Social Scientist -->
                                <tr>
                                    <td style="border: 1px solid #000; padding: 8px; vertical-align: top;">
                                        <strong>(क) गैर शासकीय सामाजिक वैज्ञानिक</strong>
                                    </td>
                                    <td style="border: 1px solid #000; padding: 8px;">
                                        <t t-if="sia_team.non_govt_social_scientist_ids">
                                            <t t-foreach="sia_team.non_govt_social_scientist_ids" t-as="member">
                                                <p style="margin: 3px 0; line-height: 1.5;">
                                                    <strong>श्री <span t-esc="member.name or ''"/></strong>
                                                    <t t-if="member.post">
                                                        <br/><span t-esc="member.post"/>
                                                    </t>
                                                    <t t-if="member.department_id">
                                                        <br/><span t-esc="member.department_id.name or ''"/>
                                                    </t>
                                                    <t t-if="member.address">
                                                        <br/><span t-esc="member.address"/>
                                                    </t>
                                                </p>
                                            </t>
                                        </t>
                                        <t t-if="not sia_team.non_govt_social_scientist_ids">
                                            <p style="margin: 3px 0;">........................</p>
                                        </t>
                                    </td>
                                </tr>

                                <!-- (ख) Representatives of Local Bodies -->
                                <tr>
                                    <td style="border: 1px solid #000; padding: 8px; vertical-align: top;">
                                        <strong>(ख) स्थानीय निकायों के प्रतिनिधि</strong>
                                    </td>
                                    <td style="border: 1px solid #000; padding: 8px;">
                                        <t t-if="sia_team.local_bodies_representative_ids">
                                            <t t-foreach="sia_team.local_bodies_representative_ids" t-as="member">
                                                <p style="margin: 3px 0; line-height: 1.5;">
                                                    <strong>श्रीमती/श्री <span t-esc="member.name or ''"/></strong>
                                                    <t t-if="member.post">
                                                        <br/><span t-esc="member.post"/>
                                                    </t>
                                                    <t t-if="member.department_id">
                                                        <br/><span t-esc="member.department_id.name or ''"/>
                                                    </t>
                                                    <t t-if="member.address">
                                                        <br/><span t-esc="member.address"/>
                                                    </t>
                                                </p>
                                            </t>
                                        </t>
                                        <t t-if="not sia_team.local_bodies_representative_ids">
                                            <p style="margin: 3px 0;">........................</p>
                                        </t>
                                    </td>
                                </tr>

                                <!-- (ग) Resettlement Expert -->
                                <tr>
                                    <td style="border: 1px solid #000; padding: 8px; vertical-align: top;">
                                        <strong>(ग) पुनर्व्यवस्थापन विशेषज्ञ</strong>
                                    </td>
                                    <td style="border: 1px solid #000; padding: 8px;">
                                        <t t-if="sia_team.resettlement_expert_ids">
                                            <t t-foreach="sia_team.resettlement_expert_ids" t-as="member">
                                                <p style="margin: 3px 0; line-height: 1.5;">
                                                    <strong>श्री <span t-esc="member.name or ''"/></strong>
                                                    <t t-if="member.post">
                                                        <br/><span t-esc="member.post"/>
                                                    </t>
                                                    <t t-if="member.department_id">
                                                        <br/><span t-esc="member.department_id.name or ''"/>
                                                    </t>
                                                    <t t-if="member.address">
                                                        <br/><span t-esc="member.address"/>
                                                    </t>
                                                </p>
                                            </t>
                                        </t>
                                        <t t-if="not sia_team.resettlement_expert_ids">
                                            <p style="margin: 3px 0;">........................</p>
                                        </t>
                                    </td>
                                </tr>

                                <!-- (घ) Technical Expert -->
                                <tr>
                                    <td style="border: 1px solid #000; padding: 8px; vertical-align: top;">
                                        <strong>(घ) परियोजना से संबंधित विषय का तकनीकी विशेषज्ञ</strong>
                                    </td>
                                    <td style="border: 1px solid #000; padding: 8px;">
                                        <t t-if="sia_team.technical_expert_ids">
                                            <t t-foreach="sia_team.technical_expert_ids" t-as="member">
                                                <p style="margin: 3px 0; line-height: 1.5;">
                                                    <strong>श्री <span t-esc="member.name or ''"/></strong>
                                                    <t t-if="member.post">
                                                        <br/><span t-esc="member.post"/>
                                                    </t>
                                                    <t t-if="member.department_id">
                                                        <br/><span t-esc="member.department_id.name or ''"/>
                                                    </t>
                                                    <t t-if="member.address">
                                                        <br/><span t-esc="member.address"/>
                                                    </t>
                                                </p>
                                            </t>
                                        </t>
                                        <t t-if="not sia_team.technical_expert_ids">
                                            <p style="margin: 3px 0;">........................</p>
                                        </t>
                                    </td>
                                </tr>

                                <!-- (ड.) Tehsildar -->
                                <tr>
                                    <td style="border: 1px solid #000; padding: 8px; vertical-align: top;">
                                        <strong>(ड.) प्रभावित क्षेत्र का तहसीलदार</strong>
                                    </td>
                                    <td style="border: 1px solid #000; padding: 8px;">
                                        <t t-if="sia_team.tehsildar_id">
                                            <p style="margin: 3px 0; line-height: 1.5;">
                                                <strong>तहसीलदार</strong> (संयोजक)
                                            </p>
                                        </t>
                                        <t t-if="not sia_team.tehsildar_id">
                                            <p style="margin: 3px 0;">........................</p>
                                        </t>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Issuing Authority -->
                    <div style="margin-top: 40px; margin-bottom: 20px;">
                        <p style="margin: 5px 0; font-size: 14px; text-align: right;">
                            <strong>अनुविभागीय अधिकारी (राजस्व)</strong><br/>
                            <strong>सह भू-अर्जन अधिकारी,</strong><br/>
                            <strong>जिला रायगढ़ (छ.ग.)</strong>
                        </p>
                    </div>

                    <!-- Copy Distribution -->
                    <div style="margin-top: 40px; border-top: 1px solid #000; padding-top: 15px;">
                        <p style="margin: 5px 0; font-size: 14px;">
                            <strong>विभाग <span t-esc="sia_team.requiring_body_id.name if sia_team.requiring_body_id else '........................'"/> की ओर सूचनार्थ एवं आवश्यक कार्यवाही हेतु।</strong>
                        </p>
                        <p style="margin: 15px 0 5px 0; font-size: 14px; text-align: right;">
                            <strong>अनुविभागीय अधिकारी (राजस्व)</strong><br/>
                            <strong>सह भू-अर्जन अधिकारी,</strong><br/>
                            <strong>जिला रायगढ़ (छ.ग.)</strong>
                        </p>
                    </div>
                </div>
            </t>
        </t>
    </template>
</odoo>

