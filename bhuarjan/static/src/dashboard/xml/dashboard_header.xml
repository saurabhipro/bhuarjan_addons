<templates xml:space="preserve">
    <!-- Common Dashboard Header Template -->
    <t t-name="bhuarjan.DashboardHeader" owl="1">
        <div class="o_dashboard_header" style="background: linear-gradient(135deg, #FFF8F0 0%, #FDF5E6 50%, #FAF0E6 100%); color: #8B4513; padding: 10px; border-radius: 8px; margin-bottom: 20px; border: 1.5px solid #8B4513;">
            <div class="w-100" style="display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px;">
                <div class="o_dashboard_title_section">
                    <h2 style="margin: 0; color: #8B4513; font-weight: bold; font-size: 18px;">
                        <t t-if="iconClass">
                            <span><i t-att-class="iconClass" style="font-size: 20px; color: #8B4513;"/></span>
                            <t t-if="iconClass == 'fa fa-shield'">
                                <span style="margin-left: -0.5rem;"> </span>
                            </t>
                            <t t-if="iconClass == 'fa fa-gavel'">
                                <span style="margin-left: -1.5rem;"> </span>
                            </t>
                            <t t-if="iconClass != 'fa fa-shield' and iconClass != 'fa fa-gavel'">
                                <span style="margin-right: 10px;"> </span>
                            </t>
                        </t>
                        <t t-esc="title"/>
                        <t t-if="state.selectedProjectName">
                            <span class="o_selected_project_inline">
                                <i class="fa fa-briefcase" style="margin-right: 8px;"/>
                                <span class="o_project_name_bold"><t t-esc="state.selectedProjectName"/></span>
                            </span>
                        </t>
                        <t t-if="state.selectedVillageName">
                            <span class="o_selected_project_inline" style="margin-left: 10px;">
                                <i class="fa fa-home" style="margin-right: 8px;"/>
                                <span class="o_project_name_bold"><t t-esc="state.selectedVillageName"/></span>
                            </span>
                        </t>
                    </h2>
                </div>
                <div class="o_dashboard_actions" style="display: flex; gap: 10px; flex-wrap: wrap; align-items: center; justify-content: flex-end; width: auto; margin-left: auto;">
                    <!-- Department Selector -->
                    <t t-if="this.config.showDepartmentFilter">
                        <select class="form-select o_department_selector" t-att-value="this.toString(state.selectedDepartment)" t-on-change="onDepartmentChange" style="background: white !important; color: #333; width: 200px !important; border: 3px solid #8B4513 !important; border-radius: 4px; text-align: left; padding-right: 30px; padding-left: 10px;line-height: normal;">
                            <option value="">Select Department</option>
                            <t t-foreach="state.departments" t-as="department" t-key="department.id">
                                <option t-att-value="this.toString(department.id)"><t t-esc="department.name"/></option>
                            </t>
                        </select>
                    </t>
                    <!-- Project Selector -->
                    <t t-if="this.config.showProjectFilter">
                        <select class="form-select o_project_selector" t-att-value="this.toString(state.selectedProject)" t-on-change="onProjectChange" t-att-disabled="this.config.showDepartmentFilter and !state.selectedDepartment" style="background: white !important; color: #333; width: 200px !important; border: 3px solid #8B4513 !important; border-radius: 4px; text-align: left; padding-right: 30px; padding-left: 10px;line-height: normal;">
                            <option value="">Project</option>
                            <t t-foreach="state.projects" t-as="project" t-key="project.id">
                                <option t-att-value="this.toString(project.id)"><t t-esc="project.name"/></option>
                            </t>
                        </select>
                    </t>
                    <!-- Village Selector -->
                    <t t-if="this.config.showVillageFilter">
                        <select class="form-select o_village_selector" t-att-value="this.toString(state.selectedVillage)" t-on-change="onVillageChange" t-att-disabled="!state.selectedProject" style="background: white !important; color: #333; width: 200px !important; border: 3px solid #8B4513 !important; border-radius: 4px; text-align: left; padding-right: 30px; padding-left: 10px;line-height: normal;">
                            <option value="">Village</option>
                            <t t-foreach="state.villages" t-as="village" t-key="village.id">
                                <option t-att-value="this.toString(village.id)"><t t-esc="village.name"/></option>
                            </t>
                        </select>
                    </t>
                </div>
            </div>
        </div>
    </t>
</templates>

