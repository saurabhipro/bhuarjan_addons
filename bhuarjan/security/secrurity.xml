<?xml version='1.0' encoding='utf-8'?>
<odoo>

    <record model="ir.module.category" id="module_category_bhuarjan_bhuarjan">
        <field name="name">Bhuarjan</field>
        <field name="description">Bhuarjan Module Category</field>
        <field name="sequence">1</field>
    </record>

    <record id="group_bhuarjan_patwari" model="res.groups">
        <field name="name">Patwari</field>                     
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="implied_ids" eval="[(6, 0, [ref('base.group_user')])]"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_ri" model="res.groups">
        <field name="name">Revenue Inspector</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="implied_ids" eval="[(4, ref('group_bhuarjan_patwari'))]"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_nayab_tahsildar" model="res.groups">
        <field name="name">Nayab Tahsildar</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="implied_ids" eval="[(4, ref('group_bhuarjan_ri'))]"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_tahsildar" model="res.groups">
        <field name="name">Tahsildar</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="implied_ids" eval="[(4, ref('group_bhuarjan_nayab_tahsildar'))]"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_sdm" model="res.groups">
        <field name="name">SDM</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="implied_ids" eval="[(4, ref('group_bhuarjan_tahsildar'))]"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_additional_collector" model="res.groups">
        <field name="name">Additional Collector</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="implied_ids" eval="[(4, ref('group_bhuarjan_sdm'))]"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_collector" model="res.groups">
        <field name="name">Collector</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="implied_ids" eval="[(4, ref('group_bhuarjan_additional_collector'))]"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_admin" model="res.groups">
        <field name="name">Administrator</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="implied_ids" eval="[(4, ref('group_bhuarjan_collector'))]"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <!-- Hide Apps menu from non-admin users -->
    
    <record id="mail.menu_root_discuss" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('bhuarjan.group_bhuarjan_admin')), (4, ref('base.group_system'))]"/>
    </record>

    <record id="base.menu_management" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('bhuarjan.group_bhuarjan_admin')), (4, ref('base.group_system'))]"/>
    </record>
    
    <!-- Hide Apps menu (alternative name) from non-admin users -->
    <record id="base.menu_apps" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('bhuarjan.group_bhuarjan_admin')), (4, ref('base.group_system'))]"/>
    </record>
    
    <!-- Hide Master Data menu from non-admin users -->
    <record id="menu_bhu_master" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('bhuarjan.group_bhuarjan_admin')), (4, ref('base.group_system'))]"/>
    </record>
    
    <!-- Hide Master Data sub-menus from non-admin users -->
    <record id="menu_bhu_department" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('bhuarjan.group_bhuarjan_admin')), (4, ref('base.group_system'))]"/>
    </record>
    
    <record id="menu_bhu_project" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('bhuarjan.group_bhuarjan_admin')), (4, ref('base.group_system'))]"/>
    </record>
    
    <record id="menu_bhu_district" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('bhuarjan.group_bhuarjan_admin')), (4, ref('base.group_system'))]"/>
    </record>
    
    <record id="menu_bhu_sub_division" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('bhuarjan.group_bhuarjan_admin')), (4, ref('base.group_system'))]"/>
    </record>
    
    <record id="menu_bhu_tehsil" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('bhuarjan.group_bhuarjan_admin')), (4, ref('base.group_system'))]"/>
    </record>
    
    <record id="menu_bhu_circle" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('bhuarjan.group_bhuarjan_admin')), (4, ref('base.group_system'))]"/>
    </record>
    
    <record id="menu_bhu_village" model="ir.ui.menu">
        <field name="groups_id" eval="[(4, ref('bhuarjan.group_bhuarjan_admin')), (4, ref('base.group_system'))]"/>
    </record>
    
    
    <!-- Survey access rule for Patwari -->
    <data noupdate="0">
        <record id="record_bhu_survey_rule" model="ir.rule">
            <field name="name">Patwari can see own surveys and surveys from assigned villages</field>
            <field name="model_id" ref="model_bhu_survey"/>
            <field name="domain_force">['|', ('user_id', '=', user.id), ('village_id', 'in', user.village_ids.ids)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_patwari'))]"/>
        </record>

       
        <record id="record_bhu_landowner_rule" model="ir.rule">
            <field name="name">Patwari can see landowners from assigned villages and their surveys</field>
            <field name="model_id" ref="model_bhu_landowner"/>
            <field name="domain_force">['&amp;', ('village_id', '!=', False), '|', ('village_id', 'in', user.village_ids.ids), ('survey_ids.user_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_patwari'))]"/>
        </record>

        <record id="record_bhu_survey_company_rule" model="ir.rule">
            <field name="name">Admin can filter company and check company wise data.</field>
            <field name="model_id" ref="model_bhu_survey"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>

        <record id="record_bhu_district_rule_admin" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_district"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>


        <record id="record_bhu_landowner_company_rule" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_landowner"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>

        <record id="record_bhu_notification4_company_rule" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_notification4"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>

        <record id="record_bhu_section11_notification_company_rule" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_section11_notification"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>


        <record id="record_bhu_section15_objection_company_rule" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_section15_objection"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>

        <record id="record_bhu_stage3_jansunwai_company_rule" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_stage3_jansunwai"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>

        <record id="record_bhu_stage4_expert_review_company_rule" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_stage4_expert_review"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>

        <record id="record_bhu_stage5_collector_approval_company_rule" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_stage5_collector_approval"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>

        <record id="record_bhu_post_award_payment_company_rule" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_post_award_payment"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>

        <record id="record_bhu_payment_reconciliation_company_rule" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_payment_reconciliation"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>
        
        
    </data>
</odoo>