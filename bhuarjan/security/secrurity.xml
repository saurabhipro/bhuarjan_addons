<?xml version='1.0' encoding='utf-8'?>
<odoo>

    <record model="ir.module.category" id="module_category_bhuarjan_bhuarjan">
        <field name="name">Bhuarjan</field>
        <field name="description">Bhuarjan Module Category</field>
        <field name="sequence">1</field>
    </record>

    <record id="group_bhuarjan_patwari" model="res.groups">
        <field name="name">Patwari</field>                     
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_ri" model="res.groups">
        <field name="name">Revenue Inspector</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_nayab_tahsildar" model="res.groups">
        <field name="name">Nayab Tahsildar</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_tahsildar" model="res.groups">
        <field name="name">Tahsildar</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_sdm" model="res.groups">
        <field name="name">SDM</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_additional_collector" model="res.groups">
        <field name="name">Additional Collector</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_collector" model="res.groups">
        <field name="name">Collector</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_district_administrator" model="res.groups">
        <field name="name">District Administrator</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">District Administrator can manage district-level operations.</field>
    </record>

    <record id="group_bhuarjan_admin" model="res.groups">
        <field name="name">Administrator</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">The user will be able to approve document created by employees.</field>
    </record>

    <record id="group_bhuarjan_sia_team_member" model="res.groups">
        <field name="name">SIA Team Member</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">The user will be able to access SIA team member features.</field>
    </record>

    <record id="group_bhuarjan_department_user" model="res.groups">
        <field name="name">Department User</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">Department User can view and approve/reject surveys for assigned projects.</field>
    </record>

    <record id="group_bhuarjan_banker" model="res.groups">
        <field name="name">Banker</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">Banker can access Payment and Users menus only.</field>
    </record>

    <record id="group_bhu_section_officer" model="res.groups">
        <field name="name">Section Officer</field>
        <field name="category_id" ref="module_category_bhuarjan_bhuarjan"/>
        <field name="comment">Section Officer can approve awards.</field>
    </record>

    
    <!-- Survey access rule for Patwari -->
    <data noupdate="0">
        <!-- ##################### ADMINISTRATOR ################### -->
        <!-- Project Rule for Administrator -->
        <record id="record_bhu_project_rule_admin" model="ir.rule">
            <field name="name">Admin can see all projects</field>
            <field name="model_id" ref="model_bhu_project"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_admin'))]"/>
        </record>
        
        <!-- SIA TEAM -->
        <record id="record_bhu_sia_team_rule_admin" model="ir.rule">
            <field name="name">SDM can see own sia data</field>
            <field name="model_id" ref="model_bhu_sia_team"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_admin'))]"/>
        </record>

        <!-- Section Notification Rule -->
        <record id="record_bhu_section4_notification_rule_admin" model="ir.rule">
            <field name="name">SDM can see own Section Notification Rule Data</field>
            <field name="model_id" ref="model_bhu_section4_notification"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_admin'))]"/>
        </record>

        <!-- Own Bhu Expert Committee Report -->
        <record id="record_bhu_expert_committee_report_rule_admin" model="ir.rule">
            <field name="name">SDM Can See Own Bhu Expert Committee Report Data</field>
            <field name="model_id" ref="model_bhu_expert_committee_report"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_admin'))]"/>
        </record>

        <!-- Own Bhu Expert Committee -->
        <record id="record_bhu_expert_committee_report_rule_admin" model="ir.rule">
            <field name="name">SDM Can See Own Bhu Expert Committee Report Data</field>
            <field name="model_id" ref="model_bhu_expert_committee_report"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_admin'))]"/>
        </record>

        <!-- Section 11 Report -->
        <record id="record_bhu_section11_preliminary_report_rule_admin" model="ir.rule">
            <field name="name">SDM Can Section 11 Report Data</field>
            <field name="model_id" ref="model_bhu_section11_preliminary_report"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_admin'))]"/>
        </record>

        <!-- Bhu Section15 Objection -->
        <record id="record_bhu_section15_objection_rule_admin" model="ir.rule">
            <field name="name">SDM Can Bhu Section15 Objection Report Data</field>
            <field name="model_id" ref="model_bhu_section15_objection"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_admin'))]"/>
        </record>

        <!-- Section 19 Notification -->
        <record id="record_bhu_section19_notification_rule_admin" model="ir.rule">
            <field name="name">SDM Can Section 19 Notification Data</field>
            <field name="model_id" ref="model_bhu_section19_notification"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_admin'))]"/>
        </record>

        <!-- BHU Draft Award -->
        <record id="record_bhu_draft_award_rule_admin" model="ir.rule">
            <field name="name">SDM Can BHU Draft Award Report Data</field>
            <field name="model_id" ref="model_bhu_draft_award"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_admin'))]"/>
        </record>


        <!-- ##################### SDM ################### -->
        <!-- Project Rule for SDM -->
        <record id="record_bhu_project_rule_sdm" model="ir.rule">
            <field name="name">SDM/Tehsildar can see assigned projects</field>
            <field name="model_id" ref="model_bhu_project"/>
            <field name="domain_force">['|', ('sdm_ids', 'in', [user.id]), ('tehsildar_ids', 'in', [user.id])]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_sdm')), (4, ref('bhuarjan.group_bhuarjan_tahsildar'))]"/>
        </record>

        <!-- Project Rule for Collector / Additional Collector -->
        <!-- Project Rule for Collector / Additional Collector / District Administrator -->
        <record id="record_bhu_project_rule_collector" model="ir.rule">
            <field name="name">Collector/District Admin can see projects of their district</field>
            <field name="model_id" ref="model_bhu_project"/>
            <!-- District Admin and Collector should see ALL projects in their district -->
            <field name="domain_force">[('district_id', '=', user.district_id.id)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_collector')), (4, ref('bhuarjan.group_bhuarjan_additional_collector')), (4, ref('bhuarjan.group_bhuarjan_district_administrator'))]"/>
        </record>

        <!-- Project Rule for Department User -->
        <record id="record_bhu_project_rule_department_user" model="ir.rule">
            <field name="name">Department User can see projects of their department</field>
            <field name="model_id" ref="model_bhu_project"/>
            <field name="domain_force">['|', ('department_id', '=', user.bhu_department_id.id), ('department_user_ids', 'in', user.id)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_department_user'))]"/>
        </record>

        <!-- Admin Rule for Village (Global Access) -->
        <record id="record_bhu_village_rule_admin" model="ir.rule">
            <field name="name">Admin can see all villages</field>
            <field name="model_id" ref="model_bhu_village"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_admin'))]"/>
        </record>

        <!-- Village Rule for SDM / Collector / District Administrator -->
        <record id="record_bhu_village_rule_restricted" model="ir.rule">
            <field name="name">Restricted User can see villages of their district</field>
            <field name="model_id" ref="model_bhu_village"/>
            <field name="domain_force">[('district_id', '=', user.district_id.id)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_sdm')), (4, ref('bhuarjan.group_bhuarjan_collector')), (4, ref('bhuarjan.group_bhuarjan_additional_collector')), (4, ref('bhuarjan.group_bhuarjan_district_administrator'))]"/>
        </record>
        
        <!-- SIA TEAM -->
        <record id="record_bhu_sia_team_rule" model="ir.rule">
            <field name="name">SDM/Tehsildar can see own sia data</field>
            <field name="model_id" ref="model_bhu_sia_team"/>
            <field name="domain_force">['|', ('project_id.sdm_ids', 'in', [user.id]), ('project_id.tehsildar_ids', 'in', [user.id])]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_sdm')), (4, ref('bhuarjan.group_bhuarjan_tahsildar'))]"/>
        </record>

        <!-- Section Notification Rule -->
        <record id="record_bhu_section4_notification_rule" model="ir.rule">
            <field name="name">SDM/Tehsildar can see own Section Notification Rule Data</field>
            <field name="model_id" ref="model_bhu_section4_notification"/>
            <field name="domain_force">['|', ('project_id.sdm_ids', 'in', [user.id]), ('project_id.tehsildar_ids', 'in', [user.id])]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_sdm')), (4, ref('bhuarjan.group_bhuarjan_tahsildar'))]"/>
        </record>

        <record id="record_bhu_expert_committee_report_rule" model="ir.rule">
            <field name="name">SDM/Tehsildar Can See Own Bhu Expert Committee Report Data</field>
            <field name="model_id" ref="model_bhu_expert_committee_report"/>
            <field name="domain_force">['|', ('project_id.sdm_ids', 'in', [user.id]), ('project_id.tehsildar_ids', 'in', [user.id])]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_sdm')), (4, ref('bhuarjan.group_bhuarjan_tahsildar'))]"/>
        </record>

        <!-- Section 11 Report -->
        <record id="record_bhu_section11_preliminary_report_rule" model="ir.rule">
            <field name="name">SDM/Tehsildar Can Section 11 Report Data</field>
            <field name="model_id" ref="model_bhu_section11_preliminary_report"/>
            <field name="domain_force">['|', ('project_id.sdm_ids', 'in', [user.id]), ('project_id.tehsildar_ids', 'in', [user.id])]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_sdm')), (4, ref('bhuarjan.group_bhuarjan_tahsildar'))]"/>
        </record>

        <!-- Bhu Section15 Objection -->
        <record id="record_bhu_section15_objection_rule" model="ir.rule">
            <field name="name">SDM/Tehsildar Can Bhu Section15 Objection Report Data</field>
            <field name="model_id" ref="model_bhu_section15_objection"/>
            <field name="domain_force">['|', ('project_id.sdm_ids', 'in', [user.id]), ('project_id.tehsildar_ids', 'in', [user.id])]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_sdm')), (4, ref('bhuarjan.group_bhuarjan_tahsildar'))]"/>
        </record>

        <!-- Section 19 Notification -->
        <record id="record_bhu_section19_notification_rule" model="ir.rule">
            <field name="name">SDM/Tehsildar Can Section 19 Notification Data</field>
            <field name="model_id" ref="model_bhu_section19_notification"/>
            <field name="domain_force">['|', ('project_id.sdm_ids', 'in', [user.id]), ('project_id.tehsildar_ids', 'in', [user.id])]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_sdm')), (4, ref('bhuarjan.group_bhuarjan_tahsildar'))]"/>
        </record>

        <!-- BHU Draft Award -->
        <record id="record_bhu_draft_award_rule" model="ir.rule">
            <field name="name">SDM/Tehsildar Can BHU Draft Award Report Data</field>
            <field name="model_id" ref="model_bhu_draft_award"/>
            <field name="domain_force">['|', ('project_id.sdm_ids', 'in', [user.id]), ('project_id.tehsildar_ids', 'in', [user.id])]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_sdm')), (4, ref('bhuarjan.group_bhuarjan_tahsildar'))]"/>
        </record>


        <!-- ##################### COLLECTOR ################### -->
        <!-- Collectors can see ALL process documents for ALL projects -->
        <!-- Note: Collector group implies Additional Collector, so this covers both -->
        <!-- SIA TEAM - Collector can only see submitted/approved/send_back records, not draft -->
        <record id="record_bhu_sia_team_rule_collector" model="ir.rule">
            <field name="name">Collector can see SIA Team data (excluding draft)</field>
            <field name="model_id" ref="model_bhu_sia_team"/>
            <field name="domain_force">[('state', '!=', 'draft')]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_collector'))]"/>
        </record>

        <!-- Section 4 Notification - Collector can only see submitted/approved/send_back records, not draft -->
        <record id="record_bhu_section4_notification_rule_collector" model="ir.rule">
            <field name="name">Collector can see Section 4 Notification data (excluding draft)</field>
            <field name="model_id" ref="model_bhu_section4_notification"/>
            <field name="domain_force">[('state', '!=', 'draft')]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_collector'))]"/>
        </record>

        <!-- Expert Committee Report -->
        <record id="record_bhu_expert_committee_report_rule_collector" model="ir.rule">
            <field name="name">Collector can see all Expert Committee Report data</field>
            <field name="model_id" ref="model_bhu_expert_committee_report"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_collector'))]"/>
        </record>

        <!-- Section 11 Preliminary Report -->
        <record id="record_bhu_section11_preliminary_report_rule_collector" model="ir.rule">
            <field name="name">Collector can see all Section 11 Preliminary Report data</field>
            <field name="model_id" ref="model_bhu_section11_preliminary_report"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_collector'))]"/>
        </record>

        <!-- Section 15 Objection -->
        <record id="record_bhu_section15_objection_rule_collector" model="ir.rule">
            <field name="name">Collector can see all Section 15 Objection data</field>
            <field name="model_id" ref="model_bhu_section15_objection"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_collector'))]"/>
        </record>

        <!-- Section 19 Notification -->
        <record id="record_bhu_section19_notification_rule_collector" model="ir.rule">
            <field name="name">Collector can see all Section 19 Notification data</field>
            <field name="model_id" ref="model_bhu_section19_notification"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_collector'))]"/>
        </record>

        <!-- Draft Award -->
        <record id="record_bhu_draft_award_rule_collector" model="ir.rule">
            <field name="name">Collector can see all Draft Award data</field>
            <field name="model_id" ref="model_bhu_draft_award"/>
            <field name="domain_force">[(1, '=', 1)]</field>            
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_collector'))]"/>
        </record>


        <record id="record_bhu_survey_rule" model="ir.rule">
            <field name="name">Patwari can see own surveys and surveys from assigned villages</field>
            <field name="model_id" ref="model_bhu_survey"/>
            <field name="domain_force">['|', ('user_id', '=', user.id), ('village_id', 'in', user.village_ids.ids)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_patwari'))]"/>
        </record>

        <!-- SDM Survey Rule -->
        <record id="record_bhu_survey_rule_sdm" model="ir.rule">
            <field name="name">SDM/Tehsildar can see surveys from assigned projects</field>
            <field name="model_id" ref="model_bhu_survey"/>
            <field name="domain_force">['|', ('project_id.sdm_ids', 'in', [user.id]), ('project_id.tehsildar_ids', 'in', [user.id])]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_sdm')), (4, ref('bhuarjan.group_bhuarjan_tahsildar'))]"/>
        </record>

        <!-- Department User Survey Rule -->
        <record id="record_bhu_survey_rule_department_user" model="ir.rule">
            <field name="name">Department User can see surveys from projects in their department</field>
            <field name="model_id" ref="model_bhu_survey"/>
            <field name="domain_force">['|', '|', ('project_id.department_id', '=', user.bhu_department_id.id), ('department_id', '=', user.bhu_department_id.id), ('project_id.department_user_ids', 'in', user.id)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_department_user'))]"/>
        </record>

        <!-- Collector Survey Rule - Read-only access to all surveys -->
        <record id="record_bhu_survey_rule_collector" model="ir.rule">
            <field name="name">Collector can see all surveys (read-only)</field>
            <field name="model_id" ref="model_bhu_survey"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_collector'))]"/>
        </record>

        <!-- Administrator Survey Rule - Full access to all surveys -->
        <record id="record_bhu_survey_rule_admin" model="ir.rule">
            <field name="name">Administrator can see all surveys</field>
            <field name="model_id" ref="model_bhu_survey"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_admin'))]"/>
        </record>

       
        <record id="record_bhu_landowner_rule" model="ir.rule">
            <field name="name">Patwari can see landowners from assigned villages and their surveys</field>
            <field name="model_id" ref="model_bhu_landowner"/>
            <field name="domain_force">['&amp;', ('village_id', '!=', False), '|', ('village_id', 'in', user.village_ids.ids), ('survey_ids.user_id', '=', user.id)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_patwari'))]"/>
        </record>

        <!-- Landowner Rule for SDM / Collector / District Administrator -->
        <record id="record_bhu_landowner_rule_restricted" model="ir.rule">
            <field name="name">Restricted User can see landowners of their district</field>
            <field name="model_id" ref="model_bhu_landowner"/>
            <!-- Use '|' to allow seeing landowners with no district assigned (global/legacy) OR matching district -->
            <!-- Actually, usually strict district check is better, but handle False just in case? -->
            <!-- sticking to strict district check as per village rule -->
            <field name="domain_force">[('district_id', '=', user.district_id.id)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_sdm')), (4, ref('bhuarjan.group_bhuarjan_collector')), (4, ref('bhuarjan.group_bhuarjan_additional_collector')), (4, ref('bhuarjan.group_bhuarjan_district_administrator'))]"/>
        </record>

        <record id="record_bhu_survey_company_rule" model="ir.rule">
            <field name="name">Admin can filter company and check company wise data.</field>
            <field name="model_id" ref="model_bhu_survey"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>

        <record id="record_bhu_district_rule_admin" model="ir.rule">
            <field name="name">Admin can see all districts</field>
            <field name="model_id" ref="model_bhu_district"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>


        <record id="record_bhu_landowner_company_rule" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_landowner"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>


        <record id="record_bhu_post_award_payment_company_rule" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_post_award_payment"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>

        <record id="record_bhu_payment_reconciliation_company_rule" model="ir.rule">
            <field name="name">Company: Admin can see all data</field>
            <field name="model_id" ref="model_bhu_payment_reconciliation"/>
            <field name="domain_force">[('company_id', 'in', company_ids)]</field>
            <field name="groups" eval="[(4, ref('base.group_system'))]"/>
        </record>
        
        <!-- District Administrator User Rule -->
        <record id="record_res_users_rule_district_administrator" model="ir.rule">
            <field name="name">District Administrator can see users from their district</field>
            <field name="model_id" ref="base.model_res_users"/>
            <field name="domain_force">[('district_id', '=', user.district_id.id), ('bhuarjan_role', '!=', 'administrator')]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_district_administrator'))]"/>
        </record>
        
        <!-- Department Rules -->
        <!-- Admin can see all departments -->
        <record id="record_bhu_department_rule_admin" model="ir.rule">
            <field name="name">Admin can see all departments</field>
            <field name="model_id" ref="model_bhu_department"/>
            <field name="domain_force">[(1, '=', 1)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_admin'))]"/>
        </record>
        
        <!-- District Administrator can only see departments in their district -->
        <record id="record_bhu_department_rule_district_admin" model="ir.rule">
            <field name="name">District Administrator can see departments in their district</field>
            <field name="model_id" ref="model_bhu_department"/>
            <field name="domain_force">[('district_id', '=', user.district_id.id)]</field>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_district_administrator'))]"/>
        </record>
        
        <!-- District Administrator Group Write Access Rule -->
        <!-- Allow modifying ONLY Bhuarjan specific groups -->
        <record id="record_res_groups_district_administrator" model="ir.rule">
            <field name="name">District Administrator can manage Bhuarjan groups</field>
            <field name="model_id" ref="base.model_res_groups"/>
            <field name="domain_force">[('category_id', '=', user.env.ref('bhuarjan.module_category_bhuarjan_bhuarjan').id)]</field>
            <field name="perm_read" eval="True"/>
            <field name="perm_write" eval="True"/>
            <field name="perm_create" eval="False"/>
            <field name="perm_unlink" eval="False"/>
            <field name="groups" eval="[(4, ref('bhuarjan.group_bhuarjan_district_administrator'))]"/>
        </record>
        
        
    </data>
</odoo>