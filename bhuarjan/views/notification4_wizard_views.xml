<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Notification 4 Wizard Form View -->
    <record id="view_bhu_notification4_wizard_form" model="ir.ui.view">
        <field name="name">bhu.notification4.wizard.form</field>
        <field name="model">bhu.notification4.wizard</field>
        <field name="arch" type="xml">
                <form string="Generate &amp; Download Notification 4 / अधिसूचना 4 जेनरेट और डाउनलोड करें">
                <header>
                    <button name="action_generate_notification4" string="Generate &amp; Download Notifications / अधिसूचना जेनरेट और डाउनलोड करें" type="object" class="btn-primary" invisible="has_existing_notification"/>
                    <button name="action_view_available_surveys" string="View Available Surveys / उपलब्ध सर्वे देखें" type="object" class="btn-info"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1>Generate Notification 4 for Village / ग्राम के लिए अधिसूचना 4 जेनरेट करें</h1>
                    </div>
                    
                    <group>
                        <group string="Location Selection / स्थान चयन">
                            <field name="district_id" widget="selection"/>
                            <field name="tehsil_id" widget="selection"/>
                            <field name="village_id" widget="selection"/>
                        </group>
                        <group string="Survey Information / सर्वे जानकारी">
                            <field name="survey_count" widget="integer" readonly="1"/>
                            <field name="available_surveys" widget="text" readonly="1" nolabel="1"/>
                        </group>
                    </group>
                    
                    <group string="Notification Details / अधिसूचना विवरण">
                        <field name="public_purpose" widget="text" placeholder="Enter the public purpose for land acquisition..."/>
                    </group>
                    
                    <div class="alert alert-warning" role="alert" invisible="not has_existing_notification">
                        <strong>Warning:</strong> Notification 4 already exists for this village. You cannot generate a duplicate notification.
                        Please use the existing notification or select a different village.
                    </div>
                    
                    <div class="alert alert-info" role="alert" invisible="has_existing_notification">
                        <strong>Note:</strong> This wizard will generate separate Notification 4 for each khasra in the selected village. 
                        Once generated, the surveys will be locked and cannot be used again for notification generation.
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Notification 4 Wizard Action -->
    <record id="action_bhu_notification4_wizard" model="ir.actions.act_window">
        <field name="name">Generate &amp; Download Notification 4 / अधिसूचना 4 जेनरेट और डाउनलोड करें</field>
        <field name="res_model">bhu.notification4.wizard</field>
        <field name="view_mode">form</field>
        <field name="target">new</field>
        <field name="context">{}</field>
    </record>

</odoo>
