<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <!-- Form-10 Survey Report -->
        <record id="action_report_form10_survey" model="ir.actions.report">
            <field name="name">Form-10 Survey Report</field>
            <field name="model">bhu.survey</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">bhuarjan.form10_survey_report</field>
            <field name="report_file">bhuarjan.form10_survey_report</field>
            <field name="paperformat_id" ref="base.paperformat_euro"/>
        </record>

        <!-- Form-10 Survey Report Template -->
        <template id="form10_survey_report">
            <t t-call="web.html_container">
                <t t-call="web.external_layout">
                <meta charset="utf-8"/>
                <style>
                    @page {
                        margin: 1cm;
                        font-family: 'Noto Sans Devanagari', 'Mangal', 'Arial Unicode MS', 'DejaVu Sans', sans-serif;
                    }
                    body {
                        font-family: 'Noto Sans Devanagari', 'Mangal', 'Arial Unicode MS', 'DejaVu Sans', sans-serif;
                        direction: ltr;
                        font-size: 20px;
                        line-height: 1.4;
                    }
                    .hindi-text {
                        font-family: 'Noto Sans Devanagari', 'Mangal', 'Arial Unicode MS', 'DejaVu Sans', sans-serif;
                        font-size: 20px;
                        line-height: 1.4;
                        unicode-bidi: embed;
                        direction: ltr;
                    }
                    .table th, .table td {
                        font-family: 'Noto Sans Devanagari', 'Mangal', 'Arial Unicode MS', 'DejaVu Sans', sans-serif;
                        font-size: 20px;
                        padding: 4px;
                        unicode-bidi: embed;
                        direction: ltr;
                    }
                    .table {
                        font-family: 'Noto Sans Devanagari', 'Mangal', 'Arial Unicode MS', 'DejaVu Sans', sans-serif;
                        unicode-bidi: embed;
                        font-size: 20px;
                        direction: ltr;
                    }
                    
                    h1, h2, h3, h4, h5, h6 {
                        font-family: 'Noto Sans Devanagari', 'Mangal', 'Arial Unicode MS', 'DejaVu Sans', sans-serif;
                        unicode-bidi: embed;
                        direction: ltr;
                    }

                    p, div, span {
                        font-family: 'Noto Sans Devanagari', 'Mangal', 'Arial Unicode MS', 'DejaVu Sans', sans-serif;
                        unicode-bidi: embed;
                        direction: ltr;
                    }
                    .page-break {
                        page-break-before: always;
                        break-before: page;
                    }
                    .page-break-after {
                        page-break-after: always;
                        break-after: page;
                    }
                    .table thead { 
                        display: table-header-group; 
                    }
                    .table tfoot { 
                        display: table-footer-group; 
                    }
                    .table tbody tr { 
                        page-break-inside: avoid !important; 
                        break-inside: avoid !important; 
                    }
                    .table tfoot tr {
                        page-break-inside: avoid !important;
                        break-inside: avoid !important;
                    }
                </style>
                <t t-foreach="docs" t-as="survey">
                    <div class="page" style="padding: 0px; font-family: 'Noto Sans Devanagari', 'Mangal', 'Arial Unicode MS', 'DejaVu Sans', sans-serif; page-break-inside: avoid;" t-att-style="'page-break-before: always;' if survey_index > 0 else ''">
                            <!-- Header -->
                            <div style="margin: 0; padding: 0;">
                                <h2 class="hindi-text" style="text-decoration: underline; margin: 0; padding: 0; text-align: center; font-size: 32px; font-weight: bold; line-height: 1.2;"><strong>भू-अर्जन फार्म-10 (प्रारंभिक सर्वे प्रपत्र)</strong></h2>
                            </div>
                            
                            <!-- Project Information (bordered table as per screenshot) -->
                            <table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
                                <tr>
                                    <td rowspan="3" style="width: 10%; padding: 0; border: 1px solid #000; text-align: center; vertical-align: middle;">
                                        <!-- Logo -->
                                        <img src="/bhuarjan/static/description/logo.png" 
                                             alt="Logo" 
                                             style="width: 100%; height: auto; max-width: 100%; display: block; margin: 0; padding: 2px;"/>
                                    </td>
                                    <td style="width: 40%; padding: 6px; border: 1px solid #000;">
                                        <strong>परियोजना का नाम :</strong>
                                        <span t-field="survey.project_id.name"/>
                                    </td>
                                    <td style="width: 40%; padding: 6px; border: 1px solid #000;">
                                        <strong>विभाग का नाम</strong>
                                        <span t-field="survey.department_id.name"/>
                                    </td>
                                    <td rowspan="3" style="width: 10%; padding: 0; border: 1px solid #000; text-align: center; vertical-align: middle;">
                                        <!-- QR Code -->
                                        <t t-set="qr_code_img" t-value="survey.get_qr_code_data()"/>
                                        <t t-set="qr_download_url" t-value="'https://bhuarjan.com/bhuarjan/form10/' + str(survey.survey_uuid) + '/download'"/>
                                        <t t-if="qr_code_img">
                                            <a t-att-href="qr_download_url" style="display: block; width: 100%; margin: 0; padding: 0; text-decoration: none;">
                                                <img t-att-src="'data:image/png;base64,' + qr_code_img" 
                                                     alt="QR Code - Click to download PDF" 
                                                     style="width: 100%; max-width: 100%; height: auto; aspect-ratio: 1; border: none; display: block; margin: 0; padding: 0;"/>
                                            </a>
                                        </t>
                                        <t t-if="not qr_code_img">
                                            <a t-att-href="qr_download_url" style="display: block; width: 100%; margin: 0; padding: 0; text-decoration: none;">
                                                <div style="width: 100%; padding-top: 100%; position: relative; border: none; background: white; margin: 0;">
                                                    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; display: flex; align-items: center; justify-content: center;">
                                                        <div style="text-align: center; font-size: 8px;">
                                                            <div style="font-weight: bold;">QR Code</div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </a>
                                        </t>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="width: 40%; padding: 6px; border: 1px solid #000;">
                                        <strong>ग्राम का नाम</strong>
                                        <span t-field="survey.village_id.name"/>
                                    </td>
                                    <td style="width: 40%; padding: 6px; border: 1px solid #000;">
                                        <strong>तहसील का नाम</strong>
                                        <span t-field="survey.tehsil_id.name"/> <strong>जिला-रायगढ़ (छ.ग.)</strong>
                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="2" style="padding: 6px; border: 1px solid #000;">
                                        <strong>सर्वे दिनाँक</strong>
                                        <span t-field="survey.survey_date" t-options="{'widget': 'date', 'format': 'dd/MM/yyyy'}"/>
                                    </td>
                                </tr>
                            </table>

                            <!-- Main Data Table -->
                            <div class="row mt-4">
                                <div class="col-12">
                                    <table class="table table-bordered hindi-text" style="width: 100%; border-collapse: collapse;">
                                        <thead>
                                            <tr>
                                                <th rowspan="2" class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">क्र.</th>
                                                <th rowspan="2" class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">प्रभावित खसरा क्रमांक</th>
                                                <th rowspan="2" class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">कुल रकबा (हे.में.)</th>
                                                <th rowspan="2" class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">अर्जन हेतु प्रस्तावित क्षेत्रफल (हेक्टेयर)</th>
                                                <th rowspan="2" class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">भूमिस्वामी का नाम</th>
                                                <th colspan="4" class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">भूमि का प्रकार</th>
                                                <th colspan="3" class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">भूमि पर स्थित वृक्ष की संख्या (प्रजातिवार)</th>
                                                <th colspan="6" class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">भूमि पर स्थित परिसंपत्तियों का विवरण</th>
                                            </tr>
                                            <tr>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">एक फसली</th>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">दो फसली</th>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">सिंचित</th>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">असिंचित</th>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">अविकसित</th>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">अर्द्ध विकसित</th>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">पूर्ण विकसित</th>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">मकान (कच्चा/पक्का) क्षेत्रफल वर्गफुट में</th>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">शेड (क्षेत्रफल वर्गफुट में)</th>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">कुँआ (कच्चा/पक्का) (हाँ/नहीं)</th>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">ट्यूबवेल / सम्बमर्शिबल पम्प फिटिंग सहित (हाँ/नहीं)</th>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">तालाब (हाँ/नहीं)</th>
                                                <th class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">रिमार्क</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <tr>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">1</td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;"><span t-field="survey.khasra_number"/></td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;"><span t-field="survey.total_area"/></td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;"><span t-field="survey.acquired_area"/></td>
                                                <td style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <t t-set="counter" t-value="1"/>
                                                    <t t-foreach="survey.landowner_ids" t-as="lo">
                                                        <div>
                                                            <t t-esc="counter"/>. <t t-esc="lo.name"/>
                                                            <t t-if="lo.gender == 'female' and lo.spouse_name">
                                                                &#160;पत्नी&#160;<t t-esc="lo.spouse_name"/>
                                                            </t>
                                                            <t t-elif="lo.father_name">
                                                                &#160;पिता&#160;<t t-esc="lo.father_name"/>
                                                            </t>
                                                        </div>
                                                        <t t-set="counter" t-value="counter + 1"/>
                                                    </t>
                                                </td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <span t-if="survey.is_single_crop" style="color: #28a745 !important; font-weight: bold;">हाँ</span><span t-if="not survey.is_single_crop" style="color: #dc3545 !important; font-weight: bold;">नहीं</span>
                                                </td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <span t-if="survey.is_double_crop" style="color: #28a745 !important; font-weight: bold;">हाँ</span><span t-if="not survey.is_double_crop" style="color: #dc3545 !important; font-weight: bold;">नहीं</span>
                                                </td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <span t-if="survey.is_irrigated" style="color: #28a745 !important; font-weight: bold;">हाँ</span><span t-if="not survey.is_irrigated" style="color: #dc3545 !important; font-weight: bold;">नहीं</span>
                                                </td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <span t-if="survey.is_unirrigated" style="color: #28a745 !important; font-weight: bold;">हाँ</span><span t-if="not survey.is_unirrigated" style="color: #dc3545 !important; font-weight: bold;">नहीं</span>
                                                </td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <span t-if="survey.tree_development_stage == 'undeveloped'"><span t-field="survey.tree_count"/></span><span t-if="survey.tree_development_stage != 'undeveloped'" style="color: #dc3545 !important; font-weight: bold;">नहीं</span>
                                                </td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <span t-if="survey.tree_development_stage == 'semi_developed'"><span t-field="survey.tree_count"/></span><span t-if="survey.tree_development_stage != 'semi_developed'" style="color: #dc3545 !important; font-weight: bold;">नहीं</span>
                                                </td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <span t-if="survey.tree_development_stage == 'fully_developed'"><span t-field="survey.tree_count"/></span><span t-if="survey.tree_development_stage != 'fully_developed'" style="color: #dc3545 !important; font-weight: bold;">नहीं</span>
                                                </td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <span t-if="survey.house_type">
                                                        <span t-field="survey.house_type"/> - <span t-field="survey.house_area"/>
                                                    </span><span t-if="not survey.house_type" style="color: #dc3545 !important; font-weight: bold;">नहीं</span>
                                                </td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <span t-if="survey.shed_area"><span t-field="survey.shed_area"/></span><span t-if="not survey.shed_area" style="color: #dc3545 !important; font-weight: bold;">नहीं</span>
                                                </td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <span t-if="survey.has_well == 'yes' and survey.well_type == 'kachcha'" style="color: #28a745 !important; font-weight: bold;">हाँ-कच्चा</span>
                                                    <span t-if="survey.has_well == 'yes' and survey.well_type == 'pakka'" style="color: #28a745 !important; font-weight: bold;">हाँ-पक्का</span>
                                                    <span t-if="survey.has_well == 'yes' and not survey.well_type" style="color: #28a745 !important; font-weight: bold;">हाँ-कच्चा</span>
                                                    <span t-if="survey.has_well == 'no'" style="color: #dc3545 !important; font-weight: bold;">नहीं</span>
                                                </td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <span t-if="survey.has_tubewell" style="color: #28a745 !important; font-weight: bold;">हाँ</span><span t-if="not survey.has_tubewell" style="color: #dc3545 !important; font-weight: bold;">नहीं</span>
                                                </td>
                                                <td class="text-center" style="border: 1px solid #000; padding: 8px; font-size: 20px;">
                                                    <span t-if="survey.has_pond" style="color: #28a745 !important; font-weight: bold;">हाँ</span><span t-if="not survey.has_pond" style="color: #dc3545 !important; font-weight: bold;">नहीं</span>
                                                </td>
                                                <td style="border: 1px solid #000; padding: 8px; font-size: 20px;"></td>
                                            </tr>
                                        </tbody>
                                        <tfoot>
                                            <tr>
                                                <td colspan="18" style="border: 1px solid #000; padding: 8px; font-size: 16px; font-weight: 700;">
                                                    <strong>संलग्न :- प्रभावित भूमियों का बी-1, खसरा एवं नक्शा</strong>
                                                </td>
                                            </tr>
                                        </tfoot>
                                    </table>
                                </div>
                            </div>

                            <!-- Signature Blocks -->
                            <div class="row mt-5">
                                <div class="col-12">
                                    <div style="display: flex !important; flex-direction: row !important; flex-wrap: nowrap !important; width: 100% !important; justify-content: flex-start !important; padding-right: 50px !important;">
                                        <div style="width: 15% !important; min-width: 120px !important; margin-right: 20px !important; display: inline-block !important;">
                                            <p class="hindi-text"><strong>(हस्ताक्षर)</strong></p>
                                            <p class="hindi-text"><strong>अपेक्षक निकाय के</strong></p>
                                            <p class="hindi-text"><strong>अधिकृत प्रतिनिधि</strong></p>
                                            <p class="hindi-text"><strong>नाम -</strong></p>
                                            <p class="hindi-text"><strong>पदनाम</strong></p>
                                        </div>
                                        <div style="width: 15% !important; min-width: 120px !important; margin-right: 20px !important; display: inline-block !important;">
                                            <p class="hindi-text"><strong>(हस्ताक्षर)</strong></p>
                                            <p class="hindi-text"><strong>तहसीलदार</strong></p>
                                            <p class="hindi-text"><strong>नाम -</strong></p>
                                        </div>
                                        <div style="width: 15% !important; min-width: 120px !important; margin-right: 20px !important; display: inline-block !important;">
                                            <p class="hindi-text"><strong>(हस्ताक्षर)</strong></p>
                                            <p class="hindi-text"><strong>नायब तहसीलदार</strong></p>
                                            <p class="hindi-text"><strong>नाम -</strong></p>
                                        </div>
                                        <div style="width: 15% !important; min-width: 120px !important; margin-right: 20px !important; display: inline-block !important;">
                                            <p class="hindi-text"><strong>(हस्ताक्षर)</strong></p>
                                            <p class="hindi-text"><strong>राजस्व निरीक्षक</strong></p>
                                            <p class="hindi-text"><strong>नाम-</strong></p>
                                            <p class="hindi-text"><strong>रा.नि.मं.</strong></p>
                                        </div>
                                        <div style="width: 15% !important; min-width: 120px !important; display: inline-block !important;">
                                            <p class="hindi-text"><strong>(हस्ताक्षर)</strong></p>
                                            <p class="hindi-text"><strong>पटवारी</strong></p>
                                            <p class="hindi-text"><strong>नाम-</strong></p>
                                            <p class="hindi-text"><strong>हल्का नम्बर</strong></p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                    </div>
                    <!-- Page Break (only if not last survey) -->
                    <t t-if="not survey_last">
                        <div class="page-break-after"></div>
                    </t>
                </t>
                </t>
            </t>
        </template>
    </data>
</odoo>